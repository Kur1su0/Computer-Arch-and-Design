--
-- VHDL Test Bench CAD_lib.lab8_mem_stage_struc_tb.lab8_mem_stage_struc_tester
--
-- Created:
--          by - W.UNKNOWN (DESKTOP-86TQKQ1)
--          at - 02:22:24 04/ 4/2021
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2018.2 (Build 19)
--
LIBRARY CAD_lib;
USE CAD_lib.RV32I.ALL;
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.numeric_std.all;


ENTITY lab8_mem_stage_struc_tb IS
   GENERIC (
      width : NATURAL RANGE 1 TO 64 := 32
   );
END lab8_mem_stage_struc_tb;


LIBRARY CAD_lib;
USE CAD_lib.ALL;


ARCHITECTURE rtl OF lab8_mem_stage_struc_tb IS

   -- Architecture declarations

   -- Internal signal declarations
   SIGNAL Data            : std_ulogic_vector(31 DOWNTO 0);
   SIGNAL Din             : std_ulogic_vector(31 DOWNTO 0);
   SIGNAL Address         : std_ulogic_vector(31 DOWNTO 0);
   SIGNAL Rd_in           : std_ulogic_vector(4 DOWNTO 0);
   SIGNAL FunC_in         : RV32I_Op;
   SIGNAL mDelay          : std_ulogic;
   SIGNAL clk             : std_ulogic;
   SIGNAL r               : std_ulogic;
   SIGNAL w               : std_ulogic;
   SIGNAL stall           : std_ulogic;
   SIGNAL Dout            : std_ulogic_vector(31 DOWNTO 0);
   SIGNAL Data_out_wback  : std_ulogic_vector(31 DOWNTO 0);
   SIGNAL Address_out_arb : std_ulogic_vector(31 DOWNTO 0);
   SIGNAL Rd_out          : std_ulogic_vector(4 DOWNTO 0);
   SIGNAL FunC_out        : RV32I_Op;


   -- Component declarations
   COMPONENT lab8_mem_stage_struc
      GENERIC (
         width : NATURAL RANGE 1 TO 64 := 32
      );
      PORT (
         Data            : IN     std_ulogic_vector(31 DOWNTO 0);
         Din             : IN     std_ulogic_vector(31 DOWNTO 0);
         Address         : IN     std_ulogic_vector(31 DOWNTO 0);
         Rd_in           : IN     std_ulogic_vector(4 DOWNTO 0);
         FunC_in         : IN     RV32I_Op;
         mDelay          : IN     std_ulogic;
         clk             : IN     std_ulogic;
         r               : OUT    std_ulogic;
         w               : OUT    std_ulogic;
         stall           : OUT    std_ulogic;
         Dout            : OUT    std_ulogic_vector(31 DOWNTO 0);
         Data_out_wback  : OUT    std_ulogic_vector(31 DOWNTO 0);
         Address_out_arb : OUT    std_ulogic_vector(31 DOWNTO 0);
         Rd_out          : OUT    std_ulogic_vector(4 DOWNTO 0);
         FunC_out        : OUT    RV32I_Op
      );
   END COMPONENT;

   -- embedded configurations
   -- pragma synthesis_off
   FOR U_0 : lab8_mem_stage_struc USE ENTITY CAD_lib.lab8_mem_stage_struc;
   -- pragma synthesis_on

BEGIN

         U_0 : lab8_mem_stage_struc
            GENERIC MAP (
               width => width
            )
            PORT MAP (
               Data            => Data,
               Din             => Din,
               Address         => Address,
               Rd_in           => Rd_in,
               FunC_in         => FunC_in,
               mDelay          => mDelay,
               clk             => clk,
               r               => r,
               w               => w,
               stall           => stall,
               Dout            => Dout,
               Data_out_wback  => Data_out_wback,
               Address_out_arb => Address_out_arb,
               Rd_out          => Rd_out,
               FunC_out        => FunC_out
            );

process
begin
         Data  <=x"00000003";     
         Din  <=x"80000001";          
         Address   <=x"00000001" ;           
         Rd_in  <="00010";          
         FunC_in <=LB;       
         mDelay   <='1';       
         clk      <='0';     wait for 100ns;
        clk      <='1';     wait  for 100ns;
         
         
         Din  <=x"8000000f";
         Address   <=x"0000000f" ; 
         mDelay   <='0';       
         clk      <='0';     wait for 100ns;
        clk      <='1';     wait  for 100ns;
        
         clk      <='0';     wait for 100ns;
        clk      <='1';     wait  for 100ns;
        
         clk      <='0';     wait for 100ns;
        clk      <='1';     wait  for 100ns;
        wait; 
  
  
end process;
END rtl;